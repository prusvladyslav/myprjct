{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/vladprus/graphql-apollo-course/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { GET_ALL_USERS, GET_ONE_USER } from \"./query/user\";\nimport { CREATE_USER } from \"./mutations/user\";\n\nconst App = () => {\n  _s();\n\n  const {\n    data,\n    loading,\n    error,\n    refetch\n  } = useQuery(GET_ALL_USERS);\n  const {\n    data: oneUser,\n    loading: loadingOneUser\n  } = useQuery(GET_ONE_USER, {\n    variables: {\n      id: 1\n    }\n  });\n  const [newUser] = useMutation(CREATE_USER);\n  const [users, setUsers] = useState([]);\n  const [username, setUsername] = useState('');\n  const [age, setAge] = useState(0);\n  useEffect(() => {\n    if (!loading) {\n      setUsers(data.getAllUsers);\n    }\n  }, [data]);\n\n  const addUser = e => {\n    e.preventDefault();\n    newUser({\n      variables: {\n        input: {\n          username,\n          age\n        }\n      }\n    }).then(({\n      data\n    }) => {\n      console.log(data);\n      setUsername('');\n      setAge(0);\n    });\n  };\n\n  const getAll = e => {\n    e.preventDefault();\n    refetch();\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"input\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"NQyUobbtiDjTjgecllKaKUd5V74=\", false, function () {\n  return [useQuery, useQuery, useMutation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/vladprus/graphql-apollo-course/client/src/App.js"],"names":["React","useEffect","useState","useMutation","useQuery","GET_ALL_USERS","GET_ONE_USER","CREATE_USER","App","data","loading","error","refetch","oneUser","loadingOneUser","variables","id","newUser","users","setUsers","username","setUsername","age","setAge","getAllUsers","addUser","e","preventDefault","input","then","console","log","getAll"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,WAAR,EAAqBC,QAArB,QAAoC,gBAApC;AACA,SAAQC,aAAR,EAAuBC,YAAvB,QAA0C,cAA1C;AACA,SAAQC,WAAR,QAA0B,kBAA1B;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAAA;;AACd,QAAM;AAACC,IAAAA,IAAD;AAAOC,IAAAA,OAAP;AAAgBC,IAAAA,KAAhB;AAAuBC,IAAAA;AAAvB,MAAkCR,QAAQ,CAACC,aAAD,CAAhD;AACA,QAAM;AAACI,IAAAA,IAAI,EAACI,OAAN;AAAeH,IAAAA,OAAO,EAAEI;AAAxB,MAA0CV,QAAQ,CAACE,YAAD,EAAe;AACnES,IAAAA,SAAS,EAAE;AACPC,MAAAA,EAAE,EAAE;AADG;AADwD,GAAf,CAAxD;AAKA,QAAM,CAACC,OAAD,IAAYd,WAAW,CAACI,WAAD,CAA7B;AACA,QAAM,CAACW,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACkB,QAAD,EAAWC,WAAX,IAA0BnB,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACoB,GAAD,EAAMC,MAAN,IAAgBrB,QAAQ,CAAC,CAAD,CAA9B;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAI,CAACS,OAAL,EAAc;AACVS,MAAAA,QAAQ,CAACV,IAAI,CAACe,WAAN,CAAR;AACH;AACJ,GAJQ,EAIN,CAACf,IAAD,CAJM,CAAT;;AAMA,QAAMgB,OAAO,GAAIC,CAAD,IAAO;AACnBA,IAAAA,CAAC,CAACC,cAAF;AACAV,IAAAA,OAAO,CAAC;AACJF,MAAAA,SAAS,EAAE;AACPa,QAAAA,KAAK,EAAE;AACHR,UAAAA,QADG;AACOE,UAAAA;AADP;AADA;AADP,KAAD,CAAP,CAMGO,IANH,CAMQ,CAAC;AAACpB,MAAAA;AAAD,KAAD,KAAY;AAChBqB,MAAAA,OAAO,CAACC,GAAR,CAAYtB,IAAZ;AACAY,MAAAA,WAAW,CAAC,EAAD,CAAX;AACAE,MAAAA,MAAM,CAAC,CAAD,CAAN;AACH,KAVD;AAWH,GAbD;;AAcA,QAAMS,MAAM,GAAGN,CAAC,IAAI;AAChBA,IAAAA,CAAC,CAACC,cAAF;AACAf,IAAAA,OAAO;AACV,GAHD;;AAKA,MAAIF,OAAJ,EAAa;AACT,wBAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AACH;;AAED,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA9CD;;GAAMF,G;UACsCJ,Q,EACQA,Q,EAK9BD,W;;;KAPhBK,G;AAgDN,eAAeA,GAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {GET_ALL_USERS, GET_ONE_USER} from \"./query/user\";\nimport {CREATE_USER} from \"./mutations/user\";\n\nconst App = () => {\n    const {data, loading, error, refetch} = useQuery(GET_ALL_USERS)\n    const {data:oneUser, loading: loadingOneUser} = useQuery(GET_ONE_USER, {\n        variables: {\n            id: 1\n        }\n    })\n    const [newUser] = useMutation(CREATE_USER)\n    const [users, setUsers] = useState([])\n    const [username, setUsername] = useState('')\n    const [age, setAge] = useState(0)\n\n    useEffect(() => {\n        if (!loading) {\n            setUsers(data.getAllUsers)\n        }\n    }, [data])\n\n    const addUser = (e) => {\n        e.preventDefault()\n        newUser({\n            variables: {\n                input: {\n                    username, age\n                }\n            }\n        }).then(({data}) => {\n            console.log(data)\n            setUsername('')\n            setAge(0)\n        })\n    }\n    const getAll = e => {\n        e.preventDefault()\n        refetch()\n    }\n\n    if (loading) {\n        return <h1>Loading...</h1>\n    }\n\n    return (\n        <div>\n       input\n        </div>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}