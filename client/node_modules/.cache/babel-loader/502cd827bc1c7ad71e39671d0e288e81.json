{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/vladprus/graphql-apollo-course/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useMutation, useQuery } from \"@apollo/client\";\nimport { GET_ALL_USERS, GET_ONE_USER } from \"./query/user\";\nimport { CREATE_USER } from \"./mutations/user\";\n\nconst App = () => {\n  _s();\n\n  const {\n    data,\n    loading,\n    error,\n    refetch\n  } = useQuery(GET_ALL_USERS);\n  const {\n    data: oneUser,\n    loading: loadingOneUser\n  } = useQuery(GET_ONE_USER, {\n    variables: {\n      id: 1\n    }\n  });\n  const [newUser] = useMutation(CREATE_USER);\n  const [users, setUsers] = useState([]);\n  const [username, setUsername] = useState('');\n  const [age, setAge] = useState(0);\n  useEffect(() => {\n    if (!loading) {\n      setUsers(data.getAllUsers);\n    }\n  }, [data]);\n\n  const addUser = e => {\n    e.preventDefault();\n    newUser({\n      variables: {\n        input: {\n          username,\n          age\n        }\n      }\n    }).then(({\n      data\n    }) => {\n      console.log(data);\n      setUsername('');\n      setAge(0);\n    });\n  };\n\n  const getAll = e => {\n    e.preventDefault();\n    refetch();\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        value: username,\n        onChange: e => setUsername(e.target.value),\n        type: \"text\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: age,\n        onChange: e => setAge(e.target.value),\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"btns\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => addUser(e),\n          children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => getAll(e),\n          children: \"\\u041F\\u043E\\u043B\\u0443\\u0447\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user\",\n        children: [user.id, \". \", user.username, \" \", user.age]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n};\n\n_s(App, \"NQyUobbtiDjTjgecllKaKUd5V74=\", false, function () {\n  return [useQuery, useQuery, useMutation];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/vladprus/graphql-apollo-course/client/src/App.js"],"names":["React","useEffect","useState","useMutation","useQuery","GET_ALL_USERS","GET_ONE_USER","CREATE_USER","App","data","loading","error","refetch","oneUser","loadingOneUser","variables","id","newUser","users","setUsers","username","setUsername","age","setAge","getAllUsers","addUser","e","preventDefault","input","then","console","log","getAll","target","value","map","user"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useMutation, useQuery} from \"@apollo/client\";\nimport {GET_ALL_USERS, GET_ONE_USER} from \"./query/user\";\nimport {CREATE_USER} from \"./mutations/user\";\n\nconst App = () => {\n    const {data, loading, error, refetch} = useQuery(GET_ALL_USERS)\n    const {data:oneUser, loading: loadingOneUser} = useQuery(GET_ONE_USER, {\n        variables: {\n            id: 1\n        }\n    })\n    const [newUser] = useMutation(CREATE_USER)\n    const [users, setUsers] = useState([])\n    const [username, setUsername] = useState('')\n    const [age, setAge] = useState(0)\n\n\n    useEffect(() => {\n        if (!loading) {\n            setUsers(data.getAllUsers)\n        }\n    }, [data])\n\n    const addUser = (e) => {\n        e.preventDefault()\n        newUser({\n            variables: {\n                input: {\n                    username, age\n                }\n            }\n        }).then(({data}) => {\n            console.log(data)\n            setUsername('')\n            setAge(0)\n        })\n    }\n    const getAll = e => {\n        e.preventDefault()\n        refetch()\n    }\n\n    if (loading) {\n        return <h1>Loading...</h1>\n    }\n\n    return (\n        <div>\n            <form>\n                <input value={username} onChange={e => setUsername(e.target.value)} type=\"text\"/>\n                <input value={age} onChange={e => setAge(e.target.value)} type=\"number\"/>\n                <div className=\"btns\">\n                    <button onClick={(e) => addUser(e)}>Создать</button>\n                    <button onClick={e => getAll(e)}>Получить</button>\n                </div>\n            </form>\n            <div>\n                {users.map(user =>\n                    <div className=\"user\">{user.id}. {user.username} {user.age}</div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}